language: c

os:
- osx
- linux

osx_image: xcode7.3

before_install:
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then 
    sudo apt-get -y purge libgraphviz-dev;
  fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then
    pip uninstall -y nose;
    sudo easy_install nose;
  fi

install:
- pip install --user -r ./python/requirements.txt

script: 
- cd python
- python setup.py build_ext --inplace
- nosetests -s -v